import{j as e}from"./vendor-r3f-C5e-dI0K.js";import{e as tt,r as f,f as et,u as rt,L as I}from"./vendor-react-DEhD4NTb.js";import{L as X,M as st,I as D,S as T,e as nt}from"./Layout-73WRehsw.js";import{B as z}from"./button-Ct1b-pu3.js";import{C as at,P as $}from"./panels-top-left-BKSW3Z-s.js";import{C as R,A as ot}from"./chevron-right-vOusIEm1.js";import{C as it}from"./calendar-dHmELIhf.js";import{E as ct}from"./eye-CRSKZRqS.js";import"./vendor-three-TpfQuS_g.js";import"./index-JDD0otFY.js";import"./vendor-drei-BHG1x0K7.js";import"./vendor-charts-BPiPS4yY.js";import"./vendor-query-DnjjLnaP.js";function Nt(){const{id:V}=tt(),{getProject:A}=nt(),n=A(V||""),[m,b]=f.useState("front"),k=et(),L=rt(),[O,g]=f.useState(1),[x,h]=f.useState({x:0,y:0}),s=f.useRef({active:!1,startX:0,startY:0,startOffsetX:0,startOffsetY:0}),c=f.useRef(new Map),o=f.useRef({active:!1,initialDistance:0,initialScale:1,initialMid:{x:0,y:0},initialOffset:{x:0,y:0}}),[d,F]=f.useState(!1),v=(t,r=.5,i=3)=>Math.min(i,Math.max(r,t)),B=t=>{if(!d)return;t.preventDefault();const r=-t.deltaY/500;g(i=>v(Number((i+r).toFixed(2))))},E=t=>{var i,a,p,j;if(!d)return;const r=t.currentTarget;if(t.pointerType==="mouse"){if(t.button!==1)return;(i=t.preventDefault)==null||i.call(t),(a=r.setPointerCapture)==null||a.call(r,t.pointerId),s.current.active=!0,s.current.startX=t.clientX,s.current.startY=t.clientY,s.current.startOffsetX=x.x,s.current.startOffsetY=x.y;return}if(t.pointerType==="touch"||t.pointerType==="pen"){if((p=t.preventDefault)==null||p.call(t),(j=r.setPointerCapture)==null||j.call(r,t.pointerId),c.current.set(t.pointerId,{x:t.clientX,y:t.clientY}),c.current.size===2){const l=Array.from(c.current.values()),C=l[0].x-l[1].x,y=l[0].y-l[1].y,N=Math.hypot(C,y),w={x:(l[0].x+l[1].x)/2,y:(l[0].y+l[1].y)/2};o.current.active=!0,o.current.initialDistance=N,o.current.initialScale=O,o.current.initialMid=w,o.current.initialOffset={...x}}else s.current.active=!0,s.current.startX=t.clientX,s.current.startY=t.clientY,s.current.startOffsetX=x.x,s.current.startOffsetY=x.y;return}},G=t=>{if(!d)return;if(t.pointerType==="touch"){if(c.current.has(t.pointerId)&&c.current.set(t.pointerId,{x:t.clientX,y:t.clientY}),o.current.active&&c.current.size>=2){const a=Array.from(c.current.values()).slice(0,2),p=a[0].x-a[1].x,j=a[0].y-a[1].y,l=Math.hypot(p,j),C={x:(a[0].x+a[1].x)/2,y:(a[0].y+a[1].y)/2},y=v(l/o.current.initialDistance*o.current.initialScale),N=o.current.initialScale,w=y,Y=o.current.initialMid,M=C,S=o.current.initialOffset,Z=M.x-w*((Y.x-S.x)/N),_=M.y-w*((Y.y-S.y)/N);g(y),h({x:Z,y:_});return}if(s.current.active){const a=t.clientX-s.current.startX,p=t.clientY-s.current.startY;h({x:s.current.startOffsetX+a,y:s.current.startOffsetY+p})}return}if(!s.current.active)return;const r=t.clientX-s.current.startX,i=t.clientY-s.current.startY;h({x:s.current.startOffsetX+r,y:s.current.startOffsetY+i})},q=t=>{var i;if(!d)return;const r=t.currentTarget;try{(i=r.releasePointerCapture)==null||i.call(r,t.pointerId)}catch{}if(t.pointerType==="touch"){c.current.delete(t.pointerId),c.current.size<2&&(o.current.active=!1),c.current.size===0&&(s.current.active=!1);return}s.current.active=!1},U=()=>g(t=>v(Number((t+.25).toFixed(2)))),W=()=>g(t=>v(Number((t-.25).toFixed(2)))),H=()=>{g(1),h({x:0,y:0})},J=()=>{var r;const t=(r=L.state)==null?void 0:r.from;if(t){k(t,{replace:!0});return}k("/gallery?tab=productviz",{replace:!0})};if(!n)return e.jsx(X,{children:e.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[e.jsx("h1",{className:"font-display text-2xl mb-4",children:"Project not found"}),e.jsx("button",{onClick:()=>k("/gallery?tab=productviz",{replace:!0}),children:e.jsx(z,{children:"Back to Gallery"})})]})});const u=[{id:"front",label:"Front View",icon:D},{id:"top",label:"Top View",icon:$},{id:"side",label:"Side View",icon:ct},{id:"3dperspective",label:"3dperspective",icon:T}],P=u.findIndex(t=>t.id===m),K=()=>{const t=(P+1)%u.length;b(u[t].id)},Q=()=>{const t=(P-1+u.length)%u.length;b(u[t].id)};return e.jsxs(X,{children:[e.jsxs("div",{className:"relative h-[60vh] md:h-[80vh] overflow-hidden",children:[e.jsxs("div",{onWheel:B,onPointerDown:E,onPointerMove:G,onPointerUp:q,className:"w-full h-full",style:{touchAction:"none",cursor:s.active?"grabbing":"grab"},children:[e.jsx("img",{src:n.images[m],alt:`${n.title} - ${m}`,className:"w-full h-full object-cover transition-transform duration-150",style:{transform:`translate(${x.x}px, ${x.y}px) scale(${O})`}},m),e.jsxs("div",{className:"absolute right-4 top-16 md:top-1/2 md:-translate-y-1/2 flex flex-col items-center gap-3 z-30",children:[e.jsx("button",{onClick:()=>F(t=>!t),"aria-pressed":d,className:`w-12 h-12 rounded-full flex items-center justify-center border border-border/30 backdrop-blur-md transition-colors ${d?"bg-accent text-accent-foreground":"bg-background/60 text-foreground"}`,title:d?"Disable Controls":"Activate Controls",children:d?"ON":"OFF"}),d&&e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{onClick:U,className:"w-10 h-10 rounded-full bg-background/60 backdrop-blur-md border border-border/30 flex items-center justify-center",children:"+"}),e.jsx("button",{onClick:W,className:"w-10 h-10 rounded-full bg-background/60 backdrop-blur-md border border-border/30 flex items-center justify-center",children:"−"}),e.jsx("button",{onClick:H,className:"w-10 h-10 rounded-full bg-background/60 backdrop-blur-md border border-border/30 flex items-center justify-center",children:"↺"})]})]})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/30 to-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-background/40 to-transparent"}),e.jsx("button",{onClick:Q,className:"md:hidden absolute left-2 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-background/30 backdrop-blur-sm border border-border/30 flex items-center justify-center text-foreground/70 active:scale-95 transition-transform",children:e.jsx(at,{size:20})}),e.jsx("button",{onClick:K,className:"md:hidden absolute right-2 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-background/30 backdrop-blur-sm border border-border/30 flex items-center justify-center text-foreground/70 active:scale-95 transition-transform",children:e.jsx(R,{size:20})}),e.jsxs("button",{onClick:J,className:"absolute top-4 left-4 md:top-8 md:left-8 inline-flex items-center gap-2 text-sm text-foreground/80 hover:text-primary transition-colors backdrop-blur-sm bg-background/20 px-3 py-2 md:px-4 md:py-2 rounded-full border border-border/30",children:[e.jsx(ot,{size:14})," ",e.jsx("span",{className:"hidden sm:inline",children:"Gallery"})]}),e.jsx("div",{className:"absolute top-4 right-4 md:top-8 md:right-8",children:e.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-medium backdrop-blur-sm ${{}}`,children:n.specs.status})}),e.jsx("div",{className:"hidden md:flex absolute bottom-8 left-1/2 -translate-x-1/2 gap-2 backdrop-blur-md bg-background/30 p-2 rounded-full border border-border/30",children:u.map(t=>{const r=t.icon;return e.jsxs("button",{onClick:()=>b(t.id),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all ${m===t.id?"bg-accent text-accent-foreground shadow-lg shadow-accent/20":"text-foreground/70 hover:text-foreground hover:bg-foreground/10"}`,children:[e.jsx(r,{size:14})," ",t.label]},t.id)})}),e.jsx("div",{className:"md:hidden absolute bottom-6 left-1/2 -translate-x-1/2 flex gap-2",children:u.map(t=>e.jsx("button",{onClick:()=>b(t.id),className:`w-2 h-2 rounded-full transition-all ${m===t.id?"bg-accent w-6":"bg-foreground/30"}`},t.id))}),e.jsxs("div",{className:"absolute bottom-16 md:bottom-24 left-4 md:left-8 right-4 md:right-8",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm text-muted-foreground mb-2 md:mb-3",children:[e.jsx(st,{size:14,className:"text-accent"}),e.jsx("span",{children:n.specs.location})]}),e.jsx("h1",{className:"font-display text-2xl sm:text-4xl md:text-6xl font-bold tracking-tight text-foreground",children:n.title})]})]}),e.jsx("div",{className:"container mx-auto px-4 py-8 md:py-16",children:e.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 md:space-y-12",children:[e.jsx("p",{className:"font-body text-base md:text-lg text-muted-foreground leading-relaxed max-w-3xl",children:n.description}),e.jsx("div",{className:"overflow-x-auto pb-2 -mx-4 px-4 md:mx-0 md:px-0",children:e.jsx("div",{className:"flex md:grid md:grid-cols-4 gap-3 md:gap-4 min-w-max md:min-w-0",children:[{icon:D,value:n.specs.deliverables||"Renders",label:"Deliverables"},{icon:T,value:n.specs.client||n.specs.location,label:"Client"},{icon:it,value:n.specs.year,label:"Year"},{icon:$,value:n.specs.status,label:"Status"}].map((t,r)=>e.jsxs("div",{className:"flex-shrink-0 w-36 md:w-auto bg-gradient-to-br from-card to-card/50 border border-border/30 rounded-xl md:rounded-2xl p-4 md:p-6 text-center group hover:border-accent/30 transition-all animate-fade-in",style:{animationDelay:`${r*.1}s`},children:[e.jsx(t.icon,{className:"w-5 h-5 md:w-6 md:h-6 text-accent mx-auto mb-2 md:mb-3 group-hover:scale-110 transition-transform"}),e.jsx("p",{className:"font-display text-base md:text-xl font-bold text-foreground mb-0.5 md:mb-1",children:t.value}),e.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground uppercase tracking-wider",children:t.label})]},t.label))})}),n.concept&&e.jsxs("div",{className:"relative bg-gradient-to-br from-accent/5 to-transparent border border-accent/20 rounded-xl md:rounded-2xl p-5 md:p-8 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-accent/5 rounded-full blur-2xl"}),e.jsx("div",{className:"absolute -left-1 top-6 md:top-8 bottom-6 md:bottom-8 w-1 bg-gradient-to-b from-accent via-accent/50 to-transparent rounded-full"}),e.jsxs("div",{className:"pl-4 md:pl-6 relative",children:[e.jsx("h2",{className:"font-display text-lg md:text-xl font-bold mb-3 md:mb-4 text-foreground",children:"Design Philosophy"}),e.jsxs("p",{className:"font-body text-sm md:text-lg text-muted-foreground leading-relaxed italic",children:['"',n.concept,'"']})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-display text-lg md:text-xl font-bold mb-4 md:mb-6 text-foreground",children:"Project Views"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-4",children:u.map(t=>{const r=t.icon;return e.jsxs("button",{onClick:()=>b(t.id),className:`relative aspect-[4/3] rounded-lg md:rounded-xl overflow-hidden group transition-all ${m===t.id?"ring-2 ring-accent ring-offset-2 ring-offset-background":""}`,children:[e.jsx("img",{src:n.images[t.id],alt:t.label,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 via-transparent to-transparent"}),e.jsxs("div",{className:"absolute bottom-2 left-2 md:bottom-3 md:left-3 flex items-center gap-1.5",children:[e.jsx(r,{size:12,className:"text-accent"}),e.jsx("span",{className:"text-[10px] md:text-xs font-medium text-foreground",children:t.label})]})]},t.id)})})]}),e.jsxs("div",{className:"bg-card/50 border border-border/30 rounded-xl md:rounded-2xl p-5 md:p-8",children:[e.jsx("h2",{className:"font-display text-base md:text-lg font-bold mb-4 md:mb-6 text-foreground",children:"Visualization Tools"}),e.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3",children:n.software.map(t=>e.jsx("span",{className:"px-3 md:px-4 py-1.5 md:py-2 rounded-full bg-background/50 border border-border/30 text-foreground/80 font-body text-xs md:text-sm hover:border-accent/50 hover:text-accent transition-colors",children:t},t))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4 justify-center pt-4",children:[e.jsx(I,{to:"/contact",className:"w-full sm:w-auto",children:e.jsxs(z,{size:"lg",className:"w-full font-display gap-2",children:["Request Similar Project ",e.jsx(R,{size:16})]})}),e.jsx(I,{to:"/gallery?tab=productviz",className:"w-full sm:w-auto",children:e.jsx(z,{size:"lg",variant:"outline",className:"w-full font-display gap-2 border-border/50 hover:border-accent/50",children:"View More Projects"})})]})]})})]})}export{Nt as default};
